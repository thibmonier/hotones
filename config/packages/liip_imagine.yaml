# Configuration for LiipImagineBundle
liip_imagine:
    # Configuration de base
    driver: "gd"

    # Configuration du cache
    cache: default

    # Résolveurs d'URL (où stocker les images traitées)
    resolvers:
        default:
            flysystem:
                filesystem_service: oneup_flysystem.default_filesystem
                root_url: '%env(IMAGINE_CACHE_URL)%'
                cache_prefix: 'media/cache'
                visibility: public

    # Loaders pour charger les images depuis différentes sources
    loaders:
        default:
            flysystem:
                filesystem_service: oneup_flysystem.default_filesystem
        # Fallback filesystem loader for static assets
        filesystem:
            filesystem:
                data_root:
                    - '%kernel.project_dir%/public/assets/images'
                    - '%kernel.project_dir%/assets/images'

    # Filtres de transformation d'images
    filter_sets:
        # Avatar Unit404 - Petit (60x60) pour header et sidebar
        unit404_avatar_small:
            quality: 90
            filters:
                thumbnail:
                    size: [60, 60]
                    mode: outbound
                    allow_upscale: true

        # Avatar Unit404 - Moyen (80x80) pour login et chatbot
        unit404_avatar_medium:
            quality: 90
            filters:
                thumbnail:
                    size: [80, 80]
                    mode: outbound
                    allow_upscale: true

        # Avatar Unit404 - Widget flottant (100x100)
        unit404_avatar_widget:
            quality: 90
            filters:
                thumbnail:
                    size: [100, 100]
                    mode: outbound
                    allow_upscale: true

        # Avatar Unit404 - Grand (250x250) pour page 404
        unit404_avatar_large:
            quality: 90
            filters:
                thumbnail:
                    size: [250, 250]
                    mode: outbound
                    allow_upscale: true

        # Avatar Unit404 - Très petit (40x40) pour messages chat
        unit404_avatar_tiny:
            quality: 90
            filters:
                thumbnail:
                    size: [40, 40]
                    mode: outbound
                    allow_upscale: true

        # === BLOG IMAGE FILTERS ===

        # Blog Hero - Large OG image for social sharing and hero sections (1200x630)
        blog_hero:
            quality: 90
            filters:
                thumbnail:
                    size: [1200, 630]
                    mode: outbound

        # Blog Thumbnail - Small preview for article cards in lists (400x300)
        blog_thumbnail:
            quality: 85
            filters:
                thumbnail:
                    size: [400, 300]
                    mode: outbound

        # Blog Detail - Medium size for article detail page (800x500)
        blog_detail:
            quality: 90
            filters:
                thumbnail:
                    size: [800, 500]
                    mode: outbound

        # Blog OG - Social sharing optimized (1200x630, Twitter/Facebook/LinkedIn)
        blog_og:
            quality: 85
            filters:
                thumbnail:
                    size: [1200, 630]
                    mode: outbound

        # Blog Admin Preview - Tiny preview for EasyAdmin index page (200x150)
        blog_admin_preview:
            quality: 75
            filters:
                thumbnail:
                    size: [200, 150]
                    mode: outbound
