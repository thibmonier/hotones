{% extends 'crud/list.html.twig' %}

{% set crud_config = {
    entity_name: 'client',
    entity_name_plural: 'clients',
    entity_label: 'Client',
    entity_label_plural: 'Clients',
    breadcrumb: [{label: 'Clients', path: null}],
    can_create: is_granted('ROLE_CHEF_PROJET'),
    create_route: 'client_new',
    export_route: 'client_export',
    columns: [
        {key: 'name', label: 'Client', sortable: true, template: 'client/_name_column.html.twig'},
        {key: 'website', label: 'Site web', sortable: false, template: 'client/_website_column.html.twig'},
        {key: 'serviceLevel', label: 'Niveau de service', sortable: true, template: 'client/_service_level_column.html.twig'},
        {key: 'contacts', label: 'Contacts', sortable: false, template: 'client/_contacts_column.html.twig'},
        {key: 'actions', label: 'Actions', sortable: false}
    ],
    actions: {
        show: {route: 'client_show', icon: 'bx-show', label: 'Voir'},
        edit: {route: 'client_edit', icon: 'bx-edit', label: 'Modifier', permission: 'ROLE_CHEF_PROJET'}
    },
    mass_actions: false,
    show_stats: true
} %}

{% set items = clients %}
{% set pagination = {
    current_page: 1,
    total_pages: 1,
    per_page: clients|length,
    total: clients|length
} %}
